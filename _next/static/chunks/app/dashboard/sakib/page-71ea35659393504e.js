(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[0],{2714:(e,s,t)=>{"use strict";t.d(s,{J:()=>c});var a=t(5155),l=t(2115),i=t(968),n=t(2085),d=t(3999);let r=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(i.b,{ref:s,className:(0,d.cn)(r(),t),...l})});c.displayName=i.b.displayName},5875:(e,s,t)=>{Promise.resolve().then(t.bind(t,9973))},9852:(e,s,t)=>{"use strict";t.d(s,{p:()=>n});var a=t(5155),l=t(2115),i=t(3999);let n=l.forwardRef((e,s)=>{let{className:t,type:l,...n}=e;return(0,a.jsx)("input",{type:l,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n})});n.displayName="Input"},9973:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>W});var a=t(5155),l=t(2115),i=t(5695),n=t(8482),d=t(7168),r=t(9852),c=t(3999);let m=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("textarea",{className:(0,c.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...l})});m.displayName="Textarea";var o=t(4964),x=t(3470),p=t(4416);let h=x.bL,u=x.l9,j=x.ZL;x.bm;let g=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(x.hJ,{ref:s,className:(0,c.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...l})});g.displayName=x.hJ.displayName;let v=l.forwardRef((e,s)=>{let{className:t,children:l,...i}=e;return(0,a.jsxs)(j,{children:[(0,a.jsx)(g,{}),(0,a.jsxs)(x.UC,{ref:s,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...i,children:[l,(0,a.jsxs)(x.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(p.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});v.displayName=x.UC.displayName;let y=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,c.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};y.displayName="DialogHeader";let f=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(x.hE,{ref:s,className:(0,c.cn)("text-lg font-semibold leading-none tracking-tight",t),...l})});f.displayName=x.hE.displayName,l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(x.VY,{ref:s,className:(0,c.cn)("text-sm text-muted-foreground",t),...l})}).displayName=x.VY.displayName;var N=t(2714),b=t(8145),w=t(646),k=t(4186),T=t(4861),A=t(7951),C=t(8186),S=t(8564),P=t(4835),D=t(4516),E=t(381),O=t(2713),L=t(9397),M=t(9074),B=t(1976),F=t(4616),J=t(3717),R=t(2525),z=t(6785),Z=t(1724),$=t(4190),I=t(8441),U=t(405);function W(){var e,s;let t=(0,i.useRouter)(),[c,x]=(0,l.useState)(null),[p,j]=(0,l.useState)([]),[g,W]=(0,l.useState)([]),[X,_]=(0,l.useState)(""),[q,V]=(0,l.useState)(""),[H,Y]=(0,l.useState)(""),[G,K]=(0,l.useState)({name:"",scheduledTime:"",pointsOnTime:10,pointsLate:5,penaltySkipped:5}),[Q,ee]=(0,l.useState)(null),[es,et]=(0,l.useState)(!1),[ea,el]=(0,l.useState)(!1),[ei,en]=(0,l.useState)([]),[ed,er]=(0,l.useState)(""),[ec,em]=(0,l.useState)(null),[eo,ex]=(0,l.useState)({title:"",description:"",points:50,icon:"\uD83C\uDFC6"}),[ep,eh]=(0,l.useState)(!1),[eu,ej]=(0,l.useState)([]),[eg,ev]=(0,l.useState)(null),[ey,ef]=(0,l.useState)({dayBeginTime:"06:00",dayEndTime:"22:00",dayBeginPoints:10,dayEndPoints:10}),[eN,eb]=(0,l.useState)(!0),[ew,ek]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e;if("sakib"!==localStorage.getItem("currentUser")){t.push("/");return}return(async()=>{try{eb(!0),ek(null);let e=await Z.f.initializeTodayData();x(e),_(e.noteOfTheDay||"");let s=await Z.f.initializeAchievements();j(s);let t=await Z.f.getHistoricalData(90);W(t);let a=await Z.f.getMonthlyData(new Date().getMonth());en(a);let l=await Z.f.initializeMealTemplates();ej(l);let i=await Z.f.getDaySettings();ef(i);let n=await Z.f.initializeUserProfile("ruqaiyah");ev(n);let d=Z.f.subscribeTodayData(e=>{e&&(x(e),_(e.noteOfTheDay||""))}),r=Z.f.subscribeUserProfile("ruqaiyah",e=>{ev(e)});return eb(!1),()=>{d(),r()}}catch(e){console.error("Error initializing data:",e),ek(e.message||"Failed to load data."),eb(!1)}})().then(s=>{e=s}),()=>{e&&e()}},[t]);let eT=async(e,s)=>{if(c)try{await Z.f.updateMealStatus(c.date,e,s),console.log(c.date)}catch(e){console.error("Error updating meal status:",e)}},eA=async()=>{if(c&&q&&H)try{await Z.f.addBonusPoints(c.date,Number.parseInt(q),H),V(""),Y("")}catch(e){console.error("Error adding bonus points:",e)}},eC=async()=>{if(c)try{await Z.f.createOrUpdateDailyData({noteOfTheDay:X})}catch(e){console.error("Error updating note:",e)}},eS=async e=>{try{await Z.f.updateAchievement(e,{completed:!0,completedAt:new Date().toString()});let s=await Z.f.getAchievements();j(s)}catch(e){console.error("Error completing achievement:",e)}},eP=async()=>{if(eo.title&&eo.description)try{await Z.f.addAchievement(eo),ex({title:"",description:"",points:50,icon:"\uD83C\uDFC6"}),eh(!1);let e=await Z.f.getAchievements();j(e)}catch(e){console.error("Error adding achievement:",e)}},eD=async e=>{if(confirm("Are you sure you want to delete this achievement?"))try{await Z.f.deleteAchievement(e);let s=await Z.f.getAchievements();j(s)}catch(e){console.error("Error deleting achievement:",e)}},eE=async e=>{er(e);try{let s=await Z.f.getDateData(e);em(s)}catch(e){console.error("Error fetching day data:",e),em(null)}},eO=e=>{switch(e){case"completed-on-time":return(0,a.jsx)(w.A,{className:"h-5 w-5 text-green-500"});case"completed-late":return(0,a.jsx)(k.A,{className:"h-5 w-5 text-yellow-500"});case"missed":return(0,a.jsx)(T.A,{className:"h-5 w-5 text-red-500"});default:return(0,a.jsx)(k.A,{className:"h-5 w-5 text-gray-400"})}},eL=async()=>{try{await Z.f.updateDaySettings(ey),await Z.f.createOrUpdateDailyData({dayBeginTime:ey.dayBeginTime,dayEndTime:ey.dayEndTime,dayBeginPoints:ey.dayBeginPoints,dayEndPoints:ey.dayEndPoints})}catch(e){console.error("Error updating day settings:",e)}};if(eN)return(0,a.jsx)($.x,{user:"sakib"});if(ew)return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)(A.A,{className:"h-12 w-12 text-blue-400 mx-auto"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-blue-600",children:"Connection Error"}),(0,a.jsx)("p",{className:"text-gray-600",children:ew}),(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Retry"})]})});if(!c)return(0,a.jsx)($.x,{user:"sakib",message:"Preparing controls..."});let eM=async e=>{if(confirm("Are you sure you want to delete this meal template?"))try{await Z.f.deleteMealTemplate(e);let s=await Z.f.getMealTemplates();ej(s)}catch(e){console.error("Error deleting meal template:",e)}},eB=async()=>{if(G.name&&G.scheduledTime)try{await Z.f.addMealTemplate({name:G.name,scheduledTime:G.scheduledTime,pointsOnTime:G.pointsOnTime,pointsLate:G.pointsLate,penaltySkipped:G.penaltySkipped,order:eu.length+1,active:!0});let e=await Z.f.getMealTemplates();ej(e),K({name:"",scheduledTime:"",pointsOnTime:10,pointsLate:5,penaltySkipped:5}),et(!1)}catch(e){console.error("Error adding meal template:",e)}},eF=async()=>{if(Q)try{await Z.f.updateMealTemplate(Q.id.replace("".concat(null==c?void 0:c.date,"-"),""),{name:Q.name,scheduledTime:Q.scheduledTime,pointsOnTime:Q.pointsOnTime,pointsLate:Q.pointsLate,penaltySkipped:Q.penaltySkipped});let e=await Z.f.getMealTemplates();ej(e),ee(null),el(!1)}catch(e){console.error("Error updating meal template:",e)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-sm border-b border-blue-200 sticky top-0 z-50",children:(0,a.jsx)("div",{className:"max-w-6xl mx-auto px-2 sm:px-4 py-3 sm:py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4 min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-400 to-indigo-400 p-1.5 sm:p-2 rounded-full flex-shrink-0",children:(0,a.jsx)(A.A,{className:"h-4 w-4 sm:h-6 sm:w-6 text-white"})}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("h1",{className:"text-lg sm:text-xl font-bold text-gray-800 truncate",children:"Sakib - Guide"}),(0,a.jsx)("div",{className:"flex items-center space-x-2 sm:space-x-4 text-xs sm:text-sm",children:eg&&(0,a.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1 bg-gradient-to-r from-yellow-100 to-orange-100 px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-full border border-yellow-300",children:[(0,a.jsx)(C.A,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-yellow-600"}),(0,a.jsxs)("span",{className:"text-xs font-bold text-yellow-700",children:["Level ",eg.currentLevel]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 bg-gradient-to-r from-purple-100 to-pink-100 px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-full border border-purple-300",children:[(0,a.jsx)(S.A,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-purple-600"}),(0,a.jsx)("span",{className:"text-xs font-bold text-purple-700",children:eg.totalPoints.toLocaleString()})]}),(0,a.jsx)("span",{className:"text-blue-600 font-medium hidden sm:inline",children:"Ruqaiyah's Progress"})]})})]})]}),(0,a.jsxs)(d.$,{variant:"outline",size:"sm",onClick:()=>{localStorage.removeItem("currentUser"),t.push("/")},className:"border-blue-200 text-blue-600 hover:bg-blue-50 bg-transparent ml-2 flex-shrink-0",children:[(0,a.jsx)(P.A,{className:"h-3 w-3 sm:h-4 sm:w-4 sm:mr-2"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Logout"})]})]})})}),(0,a.jsx)("div",{className:"max-w-6xl mx-auto px-2 sm:px-4 py-4 sm:py-6",children:(0,a.jsxs)(o.tU,{defaultValue:"overview",className:"space-y-6",children:[(0,a.jsxs)(o.j7,{className:"grid w-full grid-cols-6 bg-white/50 backdrop-blur-sm gap-1 h-auto p-1",children:[(0,a.jsxs)(o.Xi,{value:"overview",className:"data-[state=active]:bg-blue-100 text-xs sm:text-sm p-2 sm:p-3",children:[(0,a.jsx)(D.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline sm:ml-2",children:"Overview"})]}),(0,a.jsxs)(o.Xi,{value:"meals",className:"data-[state=active]:bg-blue-100 text-xs sm:text-sm p-2 sm:p-3",children:[(0,a.jsx)(E.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline sm:ml-2",children:"Meals"})]}),(0,a.jsxs)(o.Xi,{value:"progress",className:"data-[state=active]:bg-blue-100 text-xs sm:text-sm p-2 sm:p-3",children:[(0,a.jsx)(O.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline sm:ml-2",children:"Progress"})]}),(0,a.jsxs)(o.Xi,{value:"achievements",className:"data-[state=active]:bg-blue-100 text-xs sm:text-sm p-2 sm:p-3",children:[(0,a.jsx)(C.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline sm:ml-2",children:"Awards"})]}),(0,a.jsxs)(o.Xi,{value:"activity",className:"data-[state=active]:bg-blue-100 text-xs sm:text-sm p-2 sm:p-3",children:[(0,a.jsx)(L.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline sm:ml-2",children:"Activity"})]}),(0,a.jsxs)(o.Xi,{value:"archive",className:"data-[state=active]:bg-blue-100 text-xs sm:text-sm p-2 sm:p-3",children:[(0,a.jsx)(M.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline sm:ml-2",children:"Archive"})]})]}),(0,a.jsxs)(o.av,{value:"overview",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)(B.A,{className:"h-5 w-5 text-pink-500"}),(0,a.jsx)("span",{children:"Daily Note for Ruqaiyah"})]})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsx)(m,{placeholder:"Write a sweet note for Ruqaiyah...",value:X,onChange:e=>_(e.target.value),className:"min-h-[100px]"}),(0,a.jsx)(d.$,{onClick:eC,className:"w-full",children:"Update Note"})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)(S.A,{className:"h-5 w-5 text-yellow-500"}),(0,a.jsx)("span",{children:"Award Bonus Points"})]})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(N.J,{htmlFor:"bonus-points",children:"Points"}),(0,a.jsx)(r.p,{id:"bonus-points",type:"number",placeholder:"10",value:q,onChange:e=>V(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(N.J,{htmlFor:"bonus-reason",children:"Reason"}),(0,a.jsx)(r.p,{id:"bonus-reason",placeholder:"For extra effort!",value:H,onChange:e=>Y(e.target.value)})]})]}),(0,a.jsx)(d.$,{onClick:eA,className:"w-full",children:"Award Points"})]})]})]}),(0,a.jsxs)(n.Zp,{className:"bg-white/80 backdrop-blur-sm",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(D.A,{className:"h-5 w-5 text-blue-500"}),(0,a.jsx)("span",{children:"Adventure Map - Admin Control"})]}),(0,a.jsx)("div",{className:"text-sm font-normal text-gray-600",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"space-y-6",children:c.meals.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[eO(e.status),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Scheduled: ",e.scheduledTime]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(b.E,{className:"".concat("completed-on-time"===e.status?"bg-green-100 text-green-700 border-green-300":"completed-late"===e.status?"bg-yellow-100 text-yellow-700 border-yellow-300":"missed"===e.status?"bg-red-100 text-red-700 border-red-300":"bg-blue-100 text-blue-700 border-blue-300"),children:"completed-on-time"===e.status?"Completed On Time (+".concat(e.pointsOnTime," pts)"):"completed-late"===e.status?"Completed Late (+".concat(e.pointsLate," pts)"):"missed"===e.status?"Missed (-".concat(e.penaltySkipped," pts)"):"Pending"}),"pending"===e.status?(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsxs)(d.$,{size:"sm",onClick:()=>eT(e.id,"completed-on-time"),className:"bg-green-600 hover:bg-green-700 text-white",children:["On Time (+",e.pointsOnTime,")"]}),(0,a.jsxs)(d.$,{size:"sm",onClick:()=>eT(e.id,"completed-late"),className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:["Late (+",e.pointsLate,")"]}),(0,a.jsxs)(d.$,{size:"sm",onClick:()=>eT(e.id,"missed"),className:"bg-red-600 hover:bg-red-700 text-white",children:["Missed (-",e.penaltySkipped,")"]})]}):(0,a.jsx)(d.$,{size:"sm",variant:"outline",onClick:()=>eT(e.id,"pending"),className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:"Reset to Pending"})]})]},e.id))})})]})]}),(0,a.jsxs)(o.av,{value:"meals",className:"space-y-6",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)(k.A,{className:"h-5 w-5 text-blue-500"}),(0,a.jsx)("span",{children:"Day Settings"})]})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(N.J,{htmlFor:"day-begin-time",children:"Day Begin Time"}),(0,a.jsx)(r.p,{id:"day-begin-time",type:"time",value:ey.dayBeginTime,onChange:e=>ef({...ey,dayBeginTime:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(N.J,{htmlFor:"day-begin-points",children:"Day Begin Points"}),(0,a.jsx)(r.p,{id:"day-begin-points",type:"number",value:ey.dayBeginPoints,onChange:e=>ef({...ey,dayBeginPoints:Number.parseInt(e.target.value)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(N.J,{htmlFor:"day-end-time",children:"Day End Time"}),(0,a.jsx)(r.p,{id:"day-end-time",type:"time",value:ey.dayEndTime,onChange:e=>ef({...ey,dayEndTime:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(N.J,{htmlFor:"day-end-points",children:"Day End Points"}),(0,a.jsx)(r.p,{id:"day-end-points",type:"number",value:ey.dayEndPoints,onChange:e=>ef({...ey,dayEndPoints:Number.parseInt(e.target.value)})})]})]}),(0,a.jsx)(d.$,{onClick:eL,className:"w-full",children:"Update Day Settings"})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"Meal Management"}),(0,a.jsxs)(h,{open:es,onOpenChange:et,children:[(0,a.jsx)(u,{asChild:!0,children:(0,a.jsxs)(d.$,{children:[(0,a.jsx)(F.A,{className:"h-4 w-4 mr-2"}),"Add Meal"]})}),(0,a.jsxs)(v,{children:[(0,a.jsx)(y,{children:(0,a.jsx)(f,{children:"Add New Meal"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(N.J,{htmlFor:"meal-name",children:"Meal Name"}),(0,a.jsx)(r.p,{id:"meal-name",placeholder:"Breakfast",value:G.name,onChange:e=>K({...G,name:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(N.J,{htmlFor:"meal-time",children:"Scheduled Time"}),(0,a.jsx)(r.p,{id:"meal-time",type:"time",value:G.scheduledTime,onChange:e=>K({...G,scheduledTime:e.target.value})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(N.J,{htmlFor:"points-on-time",children:"Points (On Time)"}),(0,a.jsx)(r.p,{id:"points-on-time",type:"number",value:G.pointsOnTime,onChange:e=>K({...G,pointsOnTime:Number.parseInt(e.target.value)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(N.J,{htmlFor:"points-late",children:"Points (Late)"}),(0,a.jsx)(r.p,{id:"points-late",type:"number",value:G.pointsLate,onChange:e=>K({...G,pointsLate:Number.parseInt(e.target.value)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(N.J,{htmlFor:"penalty-skipped",children:"Penalty (Skipped)"}),(0,a.jsx)(r.p,{id:"penalty-skipped",type:"number",value:G.penaltySkipped,onChange:e=>K({...G,penaltySkipped:Number.parseInt(e.target.value)})})]})]}),(0,a.jsx)(d.$,{onClick:eB,className:"w-full",children:"Add Meal"})]})]})]}),(0,a.jsx)(h,{open:ea,onOpenChange:el,children:(0,a.jsxs)(v,{children:[(0,a.jsx)(y,{children:(0,a.jsx)(f,{children:"Edit Meal"})}),Q&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(N.J,{htmlFor:"edit-meal-name",children:"Meal Name"}),(0,a.jsx)(r.p,{id:"edit-meal-name",value:Q.name,onChange:e=>ee({...Q,name:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(N.J,{htmlFor:"edit-meal-time",children:"Scheduled Time"}),(0,a.jsx)(r.p,{id:"edit-meal-time",type:"time",value:Q.scheduledTime,onChange:e=>ee({...Q,scheduledTime:e.target.value})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(N.J,{htmlFor:"edit-points-on-time",children:"Points (On Time)"}),(0,a.jsx)(r.p,{id:"edit-points-on-time",type:"number",value:Q.pointsOnTime,onChange:e=>ee({...Q,pointsOnTime:Number.parseInt(e.target.value)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(N.J,{htmlFor:"edit-points-late",children:"Points (Late)"}),(0,a.jsx)(r.p,{id:"edit-points-late",type:"number",value:Q.pointsLate,onChange:e=>ee({...Q,pointsLate:Number.parseInt(e.target.value)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(N.J,{htmlFor:"edit-penalty-skipped",children:"Penalty (Skipped)"}),(0,a.jsx)(r.p,{id:"edit-penalty-skipped",type:"number",value:Q.penaltySkipped,onChange:e=>ee({...Q,penaltySkipped:Number.parseInt(e.target.value)})})]})]}),(0,a.jsx)(d.$,{onClick:eF,className:"w-full",children:"Update Meal"})]})]})})]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:eu.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.scheduledTime," • On time: +",e.pointsOnTime," • Late: +",e.pointsLate," ","• Missed: -",e.penaltySkipped]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(d.$,{size:"sm",variant:"outline",onClick:()=>{ee(e),el(!0)},children:(0,a.jsx)(J.A,{className:"h-4 w-4"})}),(0,a.jsx)(d.$,{size:"sm",variant:"outline",className:"text-red-600 bg-transparent",onClick:()=>eM(e.id),children:(0,a.jsx)(R.A,{className:"h-4 w-4"})})]})]},e.id))})})]})]}),(0,a.jsx)(o.av,{value:"progress",className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsx)(U.O,{monthlyData:ei}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{children:"Current Stats"})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-pink-50 rounded-lg",children:[(0,a.jsx)(S.A,{className:"h-6 w-6 text-pink-500 mx-auto mb-1"}),(0,a.jsx)("p",{className:"text-lg font-bold text-pink-700",children:c.totalPoints}),(0,a.jsx)("p",{className:"text-xs text-pink-600",children:"Today's Points"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,a.jsx)(z.A,{className:"h-6 w-6 text-blue-500 mx-auto mb-1"}),(0,a.jsx)("p",{className:"text-lg font-bold text-blue-700",children:(()=>{let e=0;for(let s of g.sort((e,s)=>new Date(s.date).getTime()-new Date(e.date).getTime()))if(s.meals.filter(e=>"completed-on-time"===e.status||"completed-late"===e.status).length===s.meals.length&&s.meals.length>0)e++;else break;return e})()}),(0,a.jsx)("p",{className:"text-xs text-blue-600",children:"Day Streak"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,a.jsx)(w.A,{className:"h-6 w-6 text-green-500 mx-auto mb-1"}),(0,a.jsxs)("p",{className:"text-lg font-bold text-green-700",children:[(null==c?void 0:c.meals.length)?Math.round(c.meals.filter(e=>"completed-on-time"===e.status).length/c.meals.length*100):0,"%"]}),(0,a.jsx)("p",{className:"text-xs text-green-600",children:"Punctuality"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[(0,a.jsx)(C.A,{className:"h-6 w-6 text-purple-500 mx-auto mb-1"}),(0,a.jsx)("p",{className:"text-lg font-bold text-purple-700",children:p.filter(e=>e.completed).length}),(0,a.jsx)("p",{className:"text-xs text-purple-600",children:"Achievements"})]})]})})]})]})}),(0,a.jsxs)(o.av,{value:"achievements",className:"space-y-4",children:[(0,a.jsx)(n.aR,{className:"pb-3",children:(0,a.jsxs)(n.ZB,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,a.jsx)("span",{className:"text-base sm:text-lg",children:"Achievement Management"}),(0,a.jsxs)(h,{open:ep,onOpenChange:eh,children:[(0,a.jsx)(u,{asChild:!0,children:(0,a.jsxs)(d.$,{className:"w-full sm:w-auto",children:[(0,a.jsx)(F.A,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Create Achievement"}),(0,a.jsx)("span",{className:"sm:hidden",children:"Create"})]})}),(0,a.jsxs)(v,{children:[(0,a.jsx)(y,{children:(0,a.jsx)(f,{children:"Create New Achievement"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(N.J,{htmlFor:"achievement-title",children:"Title"}),(0,a.jsx)(r.p,{id:"achievement-title",placeholder:"Achievement Title",value:eo.title,onChange:e=>ex({...eo,title:e.target.value})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(N.J,{htmlFor:"achievement-description",children:"Description"}),(0,a.jsx)(m,{id:"achievement-description",placeholder:"Achievement description...",value:eo.description,onChange:e=>ex({...eo,description:e.target.value})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(N.J,{htmlFor:"achievement-points",children:"Points"}),(0,a.jsx)(r.p,{id:"achievement-points",type:"number",value:eo.points,onChange:e=>ex({...eo,points:Number.parseInt(e.target.value)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(N.J,{htmlFor:"achievement-icon",children:"Icon"}),(0,a.jsx)(r.p,{id:"achievement-icon",placeholder:"\uD83C\uDFC6",value:eo.icon,onChange:e=>ex({...eo,icon:e.target.value})})]})]}),(0,a.jsx)(d.$,{onClick:eP,className:"w-full",children:"Create Achievement"})]})]})]})]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(e=>(0,a.jsx)(n.Zp,{className:"".concat(e.completed?"bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-200":"bg-gray-50 border-gray-200"),children:(0,a.jsxs)(n.Wu,{className:"p-3 sm:p-4",children:[(0,a.jsxs)("div",{className:"text-center mb-3",children:[(0,a.jsx)("div",{className:"text-2xl sm:text-3xl mb-2 ".concat(e.completed?"":"grayscale opacity-50"),children:e.icon}),(0,a.jsx)("h3",{className:"font-medium mb-1 text-sm sm:text-base",children:e.title}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 mb-2",children:e.description}),(0,a.jsxs)(b.E,{variant:e.completed?"default":"secondary",className:"text-xs",children:[e.completed?"Completed":"Locked"," •"," ",e.points," pts"]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[!e.completed&&(0,a.jsx)(d.$,{size:"sm",className:"flex-1 text-xs",onClick:()=>eS(e.id),children:"Complete"}),(0,a.jsx)(d.$,{size:"sm",variant:"outline",className:"text-red-600 bg-transparent",onClick:()=>eD(e.id),children:(0,a.jsx)(R.A,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]})},e.id))})})]}),(0,a.jsx)(o.av,{value:"activity",className:"space-y-4",children:(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{children:"Today's Activity Log"})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[c.meals.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[eO(e.status),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Scheduled: ",e.scheduledTime]})]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsx)(b.E,{variant:"completed-on-time"===e.status?"default":"completed-late"===e.status?"secondary":"missed"===e.status?"destructive":"outline",children:"completed-on-time"===e.status?"+".concat(e.pointsOnTime," pts"):"completed-late"===e.status?"+".concat(e.pointsLate," pts"):"missed"===e.status?"-".concat(e.penaltySkipped," pts"):"Pending"})})]},e.id)),null===(e=c.bonusPoints)||void 0===e?void 0:e.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-pink-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(B.A,{className:"h-5 w-5 text-pink-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Bonus Points"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.reason})]})]}),(0,a.jsxs)(b.E,{className:"bg-pink-500",children:["+",e.points," pts"]})]},e.id)),!c.meals.length&&!(null===(s=c.bonusPoints)||void 0===s?void 0:s.length)&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(L.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No activity yet today"})]})]})})]})}),(0,a.jsx)(o.av,{value:"archive",className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsx)(I.V,{historicalData:g,onDateSelect:eE,selectedDate:ed}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{children:ed?"Activity for ".concat(new Date(ed).toLocaleDateString()):"Select a date to view activity"})}),(0,a.jsx)(n.Wu,{children:ec?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-pink-50 to-purple-50 rounded-lg",children:[(0,a.jsx)("span",{className:"font-medium",children:"Total Points"}),(0,a.jsxs)(b.E,{className:"bg-pink-500",children:[ec.totalPoints," pts"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-2",children:"Meals"}),(0,a.jsx)("div",{className:"space-y-2",children:ec.meals.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[eO(e.status),(0,a.jsxs)("span",{className:"text-sm",children:[e.name," (",e.scheduledTime,")"]})]}),(0,a.jsx)(b.E,{variant:"completed-on-time"===e.status?"default":"completed-late"===e.status?"secondary":"missed"===e.status?"destructive":"outline",children:"completed-on-time"===e.status?"+".concat(e.pointsOnTime):"completed-late"===e.status?"+".concat(e.pointsLate):"missed"===e.status?"-".concat(e.penaltySkipped):"Pending"})]},e.id))})]}),ec.bonusPoints&&ec.bonusPoints.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-2",children:"Bonus Points"}),(0,a.jsx)("div",{className:"space-y-2",children:ec.bonusPoints.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-pink-50 rounded",children:[(0,a.jsx)("span",{className:"text-sm",children:e.reason}),(0,a.jsxs)(b.E,{className:"bg-pink-500",children:["+",e.points]})]},e.id))})]}),ec.noteOfTheDay&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-2",children:"Note of the Day"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 p-3 bg-blue-50 rounded-lg",children:ec.noteOfTheDay})]})]}):ed?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(M.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No data available for this date"})]}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(M.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Click on a date in the calendar to view activity"})]})})]})]})})]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[992,254,193,128,46,441,684,358],()=>s(5875)),_N_E=e.O()}]);