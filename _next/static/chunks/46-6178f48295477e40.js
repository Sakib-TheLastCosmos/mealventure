"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[46],{405:(e,t,a)=>{a.d(t,{O:()=>o});var s=a(5155),i=a(8482),n=a(2713),r=a(3109);let l=e=>{let[t,a]=e.split("-");return new Date(Number.parseInt(t),Number.parseInt(a)-1).toLocaleDateString("en-US",{month:"short",year:"2-digit"})};function o(e){let{monthlyData:t}=e,a=Math.max(...t.map(e=>e.points),1),o=Math.max(...t.map(e=>e.meals),1),c=new Date,d="".concat(c.getFullYear(),"-").concat(String(c.getMonth()+1).padStart(2,"0"));return(console.log("ProgressChart received data:",t),console.log("Current month:",d),0===t.length)?(0,s.jsxs)(i.Zp,{children:[(0,s.jsx)(i.aR,{className:"pb-3",children:(0,s.jsxs)(i.ZB,{className:"flex items-center space-x-2 text-base sm:text-lg",children:[(0,s.jsx)(n.A,{className:"h-4 w-4 sm:h-5 sm:w-5"}),(0,s.jsx)("span",{children:"Monthly Progress"})]})}),(0,s.jsx)(i.Wu,{className:"pt-0",children:(0,s.jsxs)("div",{className:"text-center py-6 sm:py-8",children:[(0,s.jsx)(n.A,{className:"h-8 w-8 sm:h-12 sm:w-12 text-gray-400 mx-auto mb-3 sm:mb-4"}),(0,s.jsx)("p",{className:"text-gray-500 text-sm",children:"No data available for chart"})]})})]}):(0,s.jsxs)(i.Zp,{children:[(0,s.jsx)(i.aR,{className:"pb-3",children:(0,s.jsxs)(i.ZB,{className:"flex items-center space-x-2 text-base sm:text-lg",children:[(0,s.jsx)(r.A,{className:"h-4 w-4 sm:h-5 sm:w-5"}),(0,s.jsx)("span",{children:"Monthly Progress"})]})}),(0,s.jsx)(i.Wu,{className:"pt-0",children:(0,s.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-xs sm:text-sm font-medium mb-2 sm:mb-3 text-gray-700",children:"Points per Month"}),(0,s.jsx)("div",{className:"space-y-1.5 sm:space-y-2",children:t.map((e,t)=>{let i=e.month===d;return(0,s.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,s.jsx)("div",{className:"w-12 sm:w-16 text-xs ".concat(i?"font-bold text-pink-600":"text-gray-500"),children:l(e.month)}),(0,s.jsxs)("div",{className:"flex-1 bg-gray-200 rounded-full h-3 sm:h-4 relative",children:[(0,s.jsx)("div",{className:"h-3 sm:h-4 rounded-full transition-all duration-500 ".concat(i?"bg-gradient-to-r from-pink-500 to-purple-500":"bg-gradient-to-r from-pink-400 to-purple-400"),style:{width:"".concat(Math.max(e.points/a*100,2),"%")}}),(0,s.jsx)("span",{className:"absolute inset-0 flex items-center justify-center text-xs font-medium text-white",children:e.points})]})]},"points-".concat(t))})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-xs sm:text-sm font-medium mb-2 sm:mb-3 text-gray-700",children:"Completed Meals per Month"}),(0,s.jsx)("div",{className:"space-y-1.5 sm:space-y-2",children:t.map((e,t)=>{let a=e.month===d;return(0,s.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,s.jsx)("div",{className:"w-12 sm:w-16 text-xs ".concat(a?"font-bold text-green-600":"text-gray-500"),children:l(e.month)}),(0,s.jsxs)("div",{className:"flex-1 bg-gray-200 rounded-full h-3 sm:h-4 relative",children:[(0,s.jsx)("div",{className:"h-3 sm:h-4 rounded-full transition-all duration-500 ".concat(a?"bg-gradient-to-r from-green-500 to-blue-500":"bg-gradient-to-r from-green-400 to-blue-400"),style:{width:"".concat(Math.max(e.meals/o*100,2),"%")}}),(0,s.jsx)("span",{className:"absolute inset-0 flex items-center justify-center text-xs font-medium text-white",children:e.meals})]})]},"meals-".concat(t))})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 pt-3 sm:pt-4 border-t",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-pink-600",children:t.reduce((e,t)=>e+t.points,0)}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"Total Points"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:t.reduce((e,t)=>e+t.meals,0)}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"Total Meals"})]})]})]})})]})}},1724:(e,t,a)=>{a.d(t,{f:()=>r});var s=a(5317);let i=(0,a(3915).Wp)({apiKey:"AIzaSyB14WfkIFT5HWGVwFHE3KofD5TTQaUkiug",authDomain:"lub-you-ruqaiyah.firebaseapp.com",projectId:"lub-you-ruqaiyah",storageBucket:"lub-you-ruqaiyah.firebasestorage.app",messagingSenderId:"228300004441",appId:"1:228300004441:web:352cb486d0effaf71ce548"}),n=(0,s.aU)(i);class r{static async getDaySettings(){try{let e=(0,s.H9)(n,"settings","daySettings"),t=await (0,s.x7)(e);if(t.exists())return t.data();let a={dayBeginTime:"06:00",dayEndTime:"22:00",dayBeginPoints:10,dayEndPoints:10};return await (0,s.BN)(e,a),a}catch(e){return console.error("Error getting day settings:",e),{dayBeginTime:"06:00",dayEndTime:"22:00",dayBeginPoints:10,dayEndPoints:10}}}static async updateDaySettings(e){try{let t=(0,s.H9)(n,"settings","daySettings");await (0,s.BN)(t,e);let a=(await this.getMealTemplates()).map(t=>"day-begin"===t.id?{...t,scheduledTime:e.dayBeginTime,pointsOnTime:e.dayBeginPoints}:"day-end"===t.id?{...t,scheduledTime:e.dayEndTime,pointsOnTime:e.dayEndPoints}:t);await this.updateMealTemplates(a),console.log("Day settings updated successfully")}catch(e){throw console.error("Error updating day settings:",e),e}}static async addNotification(e,t){try{let a=(0,s.rJ)(n,"notifications",e,"items");await (0,s.gS)(a,{...t,timestamp:new Date().toLocaleDateString("en-CA"),read:!1}),console.log("Notification added successfully")}catch(e){console.error("Error adding notification:",e)}}static async getUnreadNotifications(e){try{let t=(0,s.P)((0,s.rJ)(n,"notifications",e,"items"),(0,s.My)("timestamp","desc")),a=await (0,s.GG)(t),i=[];return a.forEach(e=>{let t=e.data();t.read||i.push({id:e.id,...t})}),i}catch(e){return console.error("Error getting notifications:",e),[]}}static async markNotificationsAsRead(e,t){try{let a=t.map(async t=>{let a=(0,s.H9)(n,"notifications",e,"items",t);await (0,s.mZ)(a,{read:!0})});await Promise.all(a),console.log("Notifications marked as read")}catch(e){console.error("Error marking notifications as read:",e)}}static async getMealTemplates(){try{let e=(0,s.H9)(n,"mealTemplates","default"),t=await (0,s.x7)(e);if(t.exists())return t.data().templates||[];return[]}catch(e){return console.error("Error getting meal templates:",e),[]}}static async updateMealTemplates(e){try{let t=(0,s.H9)(n,"mealTemplates","default");await (0,s.BN)(t,{templates:e}),console.log("Meal templates updated successfully")}catch(e){throw console.error("Error updating meal templates:",e),e}}static async addMealTemplate(e){try{let t=await this.getMealTemplates(),a={...e,id:Date.now().toString()},s=[...t,a].sort((e,t)=>e.order-t.order);await this.updateMealTemplates(s),console.log("Meal template added successfully")}catch(e){throw console.error("Error adding meal template:",e),e}}static async updateMealTemplate(e,t){try{let a=(await this.getMealTemplates()).map(a=>a.id===e?{...a,...t}:a);await this.updateMealTemplates(a),console.log("Meal template updated successfully")}catch(e){throw console.error("Error updating meal template:",e),e}}static async deleteMealTemplate(e){try{let t=(await this.getMealTemplates()).filter(t=>t.id!==e);await this.updateMealTemplates(t),console.log("Meal template deleted successfully")}catch(e){throw console.error("Error deleting meal template:",e),e}}static async getUserProfile(e){try{let t=(0,s.H9)(n,"userProfiles",e),a=await (0,s.x7)(t);if(a.exists())return{id:a.id,...a.data()};return null}catch(e){return console.error("Error getting user profile:",e),null}}static async updateUserProfile(e,t){try{let a=(0,s.H9)(n,"userProfiles",e);await (0,s.mZ)(a,t),console.log("User profile updated successfully")}catch(e){throw console.error("Error updating user profile:",e),e}}static subscribeUserProfile(e,t){let a=(0,s.H9)(n,"userProfiles",e);return(0,s.aQ)(a,e=>{e.exists()?t({id:e.id,...e.data()}):t(null)},e=>{console.error("Error in profile subscription:",e),t(null)})}static async getTodayData(){try{let e=new Date().toLocaleDateString("en-CA"),t=(0,s.H9)(n,"dailyData",e),a=await (0,s.x7)(t);if(a.exists())return{id:a.id,...a.data()};return null}catch(e){throw console.error("Error getting today's data:",e),e}}static async getDateData(e){try{let t=(0,s.H9)(n,"dailyData",e),a=await (0,s.x7)(t);if(a.exists())return{id:a.id,...a.data()};return null}catch(e){return console.error("Error getting date data:",e),null}}static subscribeTodayData(e){let t=new Date().toLocaleDateString("en-CA"),a=(0,s.H9)(n,"dailyData",t);return(0,s.aQ)(a,t=>{t.exists()?e({id:t.id,...t.data()}):e(null)},t=>{console.error("Error in subscription:",t),e(null)})}static calculateLevel(e){let t=0,a=100;for(;e>=a;)a=500*++t+100;let s=t>0?500*(t-1)+100:0,i=500*t+100,n=e-s;return{currentLevel:t,pointsForCurrentLevel:s,pointsForNextLevel:i,progressToNext:n,progressPercentage:Math.min(100,n/(i-s)*100)}}static async updateMealStatus(e,t,a){try{let i=(0,s.H9)(n,"dailyData",e),r=await (0,s.x7)(i);if(r.exists()){let e=r.data(),l=e.meals.find(e=>e.id===t),o=e.meals.map(e=>e.id===t?{...e,status:a,completedAt:new Date().toLocaleDateString("en-CA")}:e),c=e.totalPoints,d=this.calculateTotalPoints({...e,meals:o}),m=d-c,u={...e,meals:o,totalPoints:d};await (0,s.BN)(i,u);let p=(0,s.H9)(n,"userProfiles","ruqaiyah"),g=await (0,s.x7)(p);if(g.exists()){let e=g.data(),i=e.totalPoints,n=e.totalPoints+m,r=this.calculateLevel(i),c=this.calculateLevel(n),d=e.totalMealsCompleted,u=e.totalMealsOnTime;if((null==l?void 0:l.status)==="pending"&&("completed-on-time"===a||"completed-late"===a)&&(d++,"completed-on-time"===a&&u++),await (0,s.mZ)(p,{totalPoints:n,currentLevel:c.currentLevel,totalMealsCompleted:d,totalMealsOnTime:u,lastActiveDate:new Date().toLocaleDateString("en-CA")}),m>0){let e=o.find(e=>e.id===t);e&&await this.addNotification("ruqaiyah",{type:"meal_completed",title:"Meal Completed! \uD83C\uDF7D️",message:"Great job completing ".concat(e.name).concat("completed-on-time"===a?" on time":" (late)","!"),points:m,icon:"completed-on-time"===a?"\uD83C\uDF89":"⏰"})}c.currentLevel>r.currentLevel&&await this.addNotification("ruqaiyah",{type:"level_up",title:"Level Up! \uD83C\uDF8A",message:"Congratulations! You've reached Level ".concat(c.currentLevel,"!"),icon:"\uD83C\uDFC6"})}console.log("Meal status updated successfully")}}catch(e){throw console.error("Error updating meal status:",e),e}}static async addBonusPoints(e,t,a){try{let i=(0,s.H9)(n,"dailyData",e),r=await (0,s.x7)(i);if(r.exists()){let e=r.data(),l={id:Date.now().toString(),points:t,reason:a,timestamp:new Date().toLocaleDateString("en-CA")},o=[...e.bonusPoints||[],l],c=this.calculateTotalPoints({...e,bonusPoints:o}),d=c-e.totalPoints,m={...e,bonusPoints:o,totalPoints:c};await (0,s.BN)(i,m);let u=(0,s.H9)(n,"userProfiles","ruqaiyah"),p=await (0,s.x7)(u);if(p.exists()){let e=p.data(),t=e.totalPoints,i=e.totalPoints+d,n=this.calculateLevel(t),r=this.calculateLevel(i);await (0,s.mZ)(u,{totalPoints:i,currentLevel:r.currentLevel,lastActiveDate:new Date().toLocaleDateString("en-CA")}),await this.addNotification("ruqaiyah",{type:"bonus_points",title:"Bonus Points! ✨",message:a,points:d,icon:"\uD83C\uDF81"}),r.currentLevel>n.currentLevel&&await this.addNotification("ruqaiyah",{type:"level_up",title:"Level Up! \uD83C\uDF8A",message:"Congratulations! You've reached Level ".concat(r.currentLevel,"!"),icon:"\uD83C\uDFC6"})}console.log("Bonus points added successfully")}}catch(e){throw console.error("Error adding bonus points:",e),e}}static calculateTotalPoints(e){let t=e.meals.reduce((e,t)=>{switch(t.status){case"completed-on-time":return e+t.pointsOnTime;case"completed-late":return e+t.pointsLate;case"missed":return e-t.penaltySkipped;default:return e}},0),a=(e.bonusPoints||[]).reduce((e,t)=>e+t.points,0);return e.dayBeginPoints+t+a+e.dayEndPoints}static async createOrUpdateDailyData(e){try{let t=new Date().toLocaleDateString("en-CA"),a=(0,s.H9)(n,"dailyData",t),i=await (0,s.x7)(a),r=await this.getDaySettings(),l={date:t,dayBeginPoints:r.dayBeginPoints,dayEndPoints:r.dayEndPoints,dayBeginTime:r.dayBeginTime,dayEndTime:r.dayEndTime,noteOfTheDay:"",meals:[],bonusPoints:[],totalPoints:r.dayBeginPoints+r.dayEndPoints},o=l;i.exists()&&(o={...l,...i.data()});let c={...o,...e};c.totalPoints=this.calculateTotalPoints(c),await (0,s.BN)(a,c,{merge:!0}),console.log("Daily data updated successfully")}catch(e){throw console.error("Error updating daily data:",e),e}}static async getAchievements(){try{let e=(0,s.H9)(n,"achievements","list"),t=await (0,s.x7)(e);if(t.exists())return t.data().achievements||[];return[]}catch(e){return console.error("Error getting achievements:",e),[]}}static async updateAchievements(e){try{let t=(0,s.H9)(n,"achievements","list");await (0,s.BN)(t,{achievements:e}),console.log("Achievements updated successfully")}catch(e){throw console.error("Error updating achievements:",e),e}}static async addAchievement(e){try{let t=await this.getAchievements(),a={...e,id:Date.now().toString(),completed:!1},s=[...t,a];await this.updateAchievements(s),console.log("Achievement added successfully")}catch(e){throw console.error("Error adding achievement:",e),e}}static async updateAchievement(e,t){try{let a=await this.getAchievements(),s=a.find(t=>t.id===e);if(!s)throw Error("Achievement not found");let i=a.map(a=>a.id===e?{...a,...t}:a);if(await this.updateAchievements(i),t.completed&&!s.completed){let e=new Date().toLocaleDateString("en-CA");await this.addBonusPoints(e,s.points,"Achievement: ".concat(s.title)),await this.addNotification("ruqaiyah",{type:"achievement_unlocked",title:"Achievement Unlocked! \uD83C\uDFC6",message:"".concat(s.title,": ").concat(s.description),points:s.points,icon:s.icon})}console.log("Achievement updated successfully")}catch(e){throw console.error("Error updating achievement:",e),e}}static async deleteAchievement(e){try{let t=(await this.getAchievements()).filter(t=>t.id!==e);await this.updateAchievements(t),console.log("Achievement deleted successfully")}catch(e){throw console.error("Error deleting achievement:",e),e}}static async getHistoricalData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:90;try{let t=new Date,a=new Date;a.setDate(a.getDate()-e);let i=a.toLocaleDateString("en-CA"),r=t.toLocaleDateString("en-CA");console.log("Fetching historical data from ".concat(i," to ").concat(r));let l=(0,s.P)((0,s.rJ)(n,"dailyData"),(0,s._M)("date",">=",i),(0,s._M)("date","<=",r),(0,s.My)("date","desc")),o=await (0,s.GG)(l),c=[];return o.forEach(e=>{c.push({id:e.id,...e.data()})}),console.log("Retrieved ".concat(c.length," historical records")),c.slice(0,e)}catch(e){return console.error("Error getting historical data:",e),[]}}static async getMonthlyData(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{let a=new Date;a.setMonth(11),a.setDate(31);let i=new Date;i.setMonth(0),i.setDate(1);let r=i.toLocaleDateString("en-CA"),l=a.toLocaleDateString("en-CA");console.log("Fetching monthly data from ".concat(r," to ").concat(l));let o=(0,s.P)((0,s.rJ)(n,"dailyData"),(0,s._M)("date",">=",r),(0,s._M)("date","<=",l),(0,s.My)("date","asc")),c=await (0,s.GG)(o),d={};c.forEach(e=>{let t=e.data(),a=t.date.substring(0,7);d[a]||(d[a]={points:0,meals:0}),d[a].points+=t.totalPoints,d[a].meals+=t.meals.filter(e=>"completed-on-time"===e.status||"completed-late"===e.status).length});let m=[],u=new Date(i),p=new Date;for(;u<=p;){var e,t;let a=u.toLocaleString("en-CA").substring(0,7);m.push({month:a,points:(null===(e=d[a])||void 0===e?void 0:e.points)||0,meals:(null===(t=d[a])||void 0===t?void 0:t.meals)||0}),u.setMonth(u.getMonth()+1)}return console.log("Monthly data result:",m),m.sort((e,t)=>e.month.localeCompare(t.month))}catch(e){return console.error("Error getting monthly data:",e),[]}}static async createDailyDocument(e){try{let t=(0,s.H9)(n,"dailyData",e),a=await this.getMealTemplates(),i=await this.getDaySettings(),r=a.filter(e=>e.active&&"day-begin"!==e.id&&"day-end"!==e.id).sort((e,t)=>e.order-t.order).map(t=>({id:"".concat(e,"-").concat(t.id),name:t.name,scheduledTime:t.scheduledTime,pointsOnTime:t.pointsOnTime,pointsLate:t.pointsLate,penaltySkipped:t.penaltySkipped,status:"pending",date:e})),l={id:e,date:e,dayBeginPoints:i.dayBeginPoints,dayEndPoints:i.dayEndPoints,dayBeginTime:i.dayBeginTime,dayEndTime:i.dayEndTime,noteOfTheDay:e===new Date().toLocaleDateString("en-CA").split("T")[0]?"Have a wonderful day, my love! \uD83D\uDC95":"",meals:r,bonusPoints:[],totalPoints:i.dayBeginPoints+i.dayEndPoints};return await (0,s.BN)(t,l),console.log("Daily data created/updated for ".concat(e)),l}catch(t){throw console.error("Error creating daily document for ".concat(e,":"),t),t}}static async initializeTodayData(){try{let e=new Date().toLocaleDateString("en-CA");console.log("Initializing data for today: ".concat(e));let t=(0,s.H9)(n,"dailyData",e),a=await (0,s.x7)(t),i={};return i=a.exists()?a.data():await this.createDailyDocument(e),console.log("Today's data initialized:",i),i}catch(e){throw console.error("Error initializing today's data:",e),e}}static async initializeUserProfile(e){try{let t=(0,s.H9)(n,"userProfiles",e),a=await (0,s.x7)(t);if(!a.exists()){let a={id:e,name:"ruqaiyah"===e?"Ruqaiyah":"Sakib",totalPoints:0,currentLevel:0,currentStreak:0,bestStreak:0,totalMealsCompleted:0,totalMealsOnTime:0,joinedDate:new Date().toLocaleDateString("en-CA"),lastActiveDate:new Date().toLocaleDateString("en-CA"),lastNotificationCheck:new Date().toLocaleDateString("en-CA")};return await (0,s.BN)(t,a),console.log("User profile initialized successfully"),a}return{id:a.id,...a.data()}}catch(e){throw console.error("Error initializing user profile:",e),e}}static async initializeMealTemplates(){try{let e=(0,s.H9)(n,"mealTemplates","default"),t=await (0,s.x7)(e);if(!t.exists()){let t=await this.getDaySettings(),a=[{id:"day-begin",name:"Day Begin",scheduledTime:t.dayBeginTime,pointsOnTime:t.dayBeginPoints,pointsLate:0,penaltySkipped:0,order:0,active:!0,type:"day-begin"},{id:"breakfast",name:"Breakfast",scheduledTime:"08:00",pointsOnTime:15,pointsLate:8,penaltySkipped:10,order:1,active:!0,type:"meal"},{id:"lunch",name:"Lunch",scheduledTime:"13:00",pointsOnTime:20,pointsLate:12,penaltySkipped:15,order:2,active:!0,type:"meal"},{id:"dinner",name:"Dinner",scheduledTime:"19:00",pointsOnTime:25,pointsLate:15,penaltySkipped:20,order:3,active:!0,type:"meal"},{id:"day-end",name:"Day End",scheduledTime:t.dayEndTime,pointsOnTime:t.dayEndPoints,pointsLate:0,penaltySkipped:0,order:99,active:!0,type:"day-end"}];return await (0,s.BN)(e,{templates:a}),console.log("Meal templates initialized successfully"),a}return t.data().templates||[]}catch(e){return console.error("Error initializing meal templates:",e),[]}}static async initializeAchievements(){try{let e=(0,s.H9)(n,"achievements","list"),t=await (0,s.x7)(e);if(!t.exists()){let t=[{id:"first-meal",title:"First Steps",description:"Complete your first meal on time",points:50,completed:!1,icon:"\uD83C\uDF1F"},{id:"perfect-day",title:"Perfect Day",description:"Complete all meals on time in a single day",points:100,completed:!1,icon:"✨"},{id:"week-streak",title:"Week Warrior",description:"Maintain a 7-day streak",points:200,completed:!1,icon:"\uD83D\uDD25"},{id:"early-bird",title:"Early Bird",description:"Complete breakfast on time 5 days in a row",points:75,completed:!1,icon:"\uD83D\uDC26"},{id:"consistency-queen",title:"Consistency Queen",description:"Achieve 90% punctuality for a month",points:300,completed:!1,icon:"\uD83D\uDC51"}];return await (0,s.BN)(e,{achievements:t}),console.log("Achievements initialized successfully"),t}return t.data().achievements||[]}catch(e){return console.error("Error initializing achievements:",e),[]}}}},3999:(e,t,a)=>{a.d(t,{cn:()=>n});var s=a(2596),i=a(9688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,i.QP)((0,s.$)(t))}},4190:(e,t,a)=>{a.d(t,{x:()=>r});var s=a(5155),i=a(1976),n=a(7951);function r(e){let{user:t,message:a}=e,r="ruqaiyah"===t;return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center ".concat(r?"bg-gradient-to-br from-pink-50 via-blue-50 to-purple-50":"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50"),children:(0,s.jsxs)("div",{className:"text-center space-y-6",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"p-6 rounded-full ".concat(r?"bg-gradient-to-r from-pink-400 to-purple-400":"bg-gradient-to-r from-blue-400 to-indigo-400"," animate-pulse"),children:r?(0,s.jsx)(i.A,{className:"h-16 w-16 text-white"}):(0,s.jsx)(n.A,{className:"h-16 w-16 text-white"})}),(0,s.jsx)("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-pink-300 animate-spin"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold ".concat(r?"text-pink-600":"text-blue-600"),children:a||(r?"Loading your adventure...":"Loading admin panel...")}),(0,s.jsx)("p",{className:"text-gray-600",children:r?"Preparing your meal journey":"Setting up adventure controls"})]}),(0,s.jsxs)("div",{className:"flex justify-center space-x-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full animate-bounce ".concat(r?"bg-pink-400":"bg-blue-400"),style:{animationDelay:"0ms"}}),(0,s.jsx)("div",{className:"w-2 h-2 rounded-full animate-bounce ".concat(r?"bg-pink-400":"bg-blue-400"),style:{animationDelay:"150ms"}}),(0,s.jsx)("div",{className:"w-2 h-2 rounded-full animate-bounce ".concat(r?"bg-pink-400":"bg-blue-400"),style:{animationDelay:"300ms"}})]})]})})}},4964:(e,t,a)=>{a.d(t,{Xi:()=>c,av:()=>d,j7:()=>o,tU:()=>l});var s=a(5155),i=a(2115),n=a(6049),r=a(3999);let l=n.bL,o=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(n.B8,{ref:t,className:(0,r.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...i})});o.displayName=n.B8.displayName;let c=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(n.l9,{ref:t,className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...i})});c.displayName=n.l9.displayName;let d=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(n.UC,{ref:t,className:(0,r.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...i})});d.displayName=n.UC.displayName},7168:(e,t,a)=>{a.d(t,{$:()=>c});var s=a(5155),i=a(2115),n=a(9708),r=a(2085),l=a(3999);let o=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=i.forwardRef((e,t)=>{let{className:a,variant:i,size:r,asChild:c=!1,...d}=e,m=c?n.DX:"button";return(0,s.jsx)(m,{className:(0,l.cn)(o({variant:i,size:r,className:a})),ref:t,...d})});c.displayName="Button"},8145:(e,t,a)=>{a.d(t,{E:()=>l});var s=a(5155);a(2115);var i=a(2085),n=a(3999);let r=(0,i.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:a,...i}=e;return(0,s.jsx)("div",{className:(0,n.cn)(r({variant:a}),t),...i})}},8441:(e,t,a)=>{a.d(t,{V:()=>c});var s=a(5155),i=a(2115),n=a(7168),r=a(8482),l=a(2355),o=a(3052);function c(e){let{historicalData:t,onDateSelect:a,selectedDate:c}=e,[d,m]=(0,i.useState)(new Date),u=e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),p=e=>new Date(e.getFullYear(),e.getMonth(),1).getDay(),g=(e,t,a)=>"".concat(e,"-").concat(String(t+1).padStart(2,"0"),"-").concat(String(a).padStart(2,"0")),h=e=>t.find(t=>t.date===e),y=e=>{m(t=>{let a=new Date(t);return"prev"===e?a.setMonth(a.getMonth()-1):a.setMonth(a.getMonth()+1),a})};return(0,s.jsxs)(r.Zp,{children:[(0,s.jsx)(r.aR,{className:"pb-3",children:(0,s.jsxs)(r.ZB,{className:"flex items-center justify-between text-base sm:text-lg",children:[(0,s.jsxs)("span",{children:[["January","February","March","April","May","June","July","August","September","October","November","December"][d.getMonth()]," ",d.getFullYear()]}),(0,s.jsxs)("div",{className:"flex space-x-1 sm:space-x-2",children:[(0,s.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>y("prev"),className:"h-7 w-7 sm:h-8 sm:w-8 p-0",children:(0,s.jsx)(l.A,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),(0,s.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>y("next"),className:"h-7 w-7 sm:h-8 sm:w-8 p-0",children:(0,s.jsx)(o.A,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]})}),(0,s.jsxs)(r.Wu,{className:"pt-0",children:[(0,s.jsx)("div",{className:"grid grid-cols-7 gap-0.5 sm:gap-1 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,s.jsx)("div",{className:"h-6 sm:h-8 flex items-center justify-center text-xs sm:text-sm font-medium text-gray-500",children:e},e))}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-0.5 sm:gap-1",children:(()=>{let e=d.getFullYear(),t=d.getMonth(),i=u(d),r=p(d),l=new Date().toLocaleDateString("en-CA"),o=[];for(let e=0;e<r;e++)o.push((0,s.jsx)("div",{className:"h-10"},"empty-".concat(e)));for(let r=1;r<=i;r++){let i=g(e,t,r),d=h(i),m=i===l,u=i===c,p=!!d;o.push((0,s.jsxs)(n.$,{variant:u?"default":"ghost",size:"sm",className:"h-8 sm:h-10 w-full relative text-xs sm:text-sm ".concat(m?"ring-1 sm:ring-2 ring-pink-400":""," ").concat(p?"bg-green-50 hover:bg-green-100":""," ").concat(u?"bg-pink-500 hover:bg-pink-600":""),onClick:()=>a(i),children:[(0,s.jsx)("span",{className:"text-xs sm:text-sm",children:r}),p&&(0,s.jsx)("div",{className:"absolute bottom-0.5 right-0.5 sm:bottom-1 sm:right-1 w-1.5 h-1.5 sm:w-2 sm:h-2 bg-green-500 rounded-full"}),m&&(0,s.jsx)("div",{className:"absolute top-0.5 left-0.5 sm:top-1 sm:left-1 w-1.5 h-1.5 sm:w-2 sm:h-2 bg-pink-500 rounded-full"})]},r))}return o})()}),(0,s.jsxs)("div",{className:"mt-3 sm:mt-4 flex items-center justify-center space-x-3 sm:space-x-4 text-xs text-gray-500",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-pink-500 rounded-full"}),(0,s.jsx)("span",{children:"Today"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,s.jsx)("span",{children:"Has Data"})]})]})]})]})}},8482:(e,t,a)=>{a.d(t,{Wu:()=>c,ZB:()=>o,Zp:()=>r,aR:()=>l});var s=a(5155),i=a(2115),n=a(3999);let r=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...i})});r.displayName="Card";let l=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...i})});l.displayName="CardHeader";let o=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...i})});o.displayName="CardTitle",i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...i})}).displayName="CardDescription";let c=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...i})});c.displayName="CardContent",i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...i})}).displayName="CardFooter"}}]);